FLUXO COMPLETO DETALHADO (BACK-END)
üë®‚Äç‚öïÔ∏è FLUXO DO M√âDICO:
Cadastro pelo admin

Admin cria um m√©dico via rota POST /medicos (com nome, email, crm, especialidade, senha etc).

Login do m√©dico

Rota: POST /medicos/login

Gera um token JWT para autenticar.

Define hor√°rios de atendimento

Rota: POST /horarios (precisa estar autenticado como m√©dico)

Campos:

json
Copiar
Editar
{
  "dia_semana": "quarta",
  "data_consulta": "2025-06-11",
  "hora_inicio": "13:00",
  "hora_fim": "17:00",
  "duracao_slot": 30
}
Sistema gera automaticamente os slots

Slots s√£o inseridos na tabela slots_agendamento, baseados no intervalo e dura√ß√£o informados.

üë©‚Äçüíº FLUXO DO ADMIN:
Cria assistentes e m√©dicos

Rota: POST /assistentes, POST /medicos

(Futuramente pode ter dashboard, relat√≥rios etc.)

üßë‚Äçüíº FLUXO DO ASSISTENTE:
Login via POST /assistentes/login

Recebe token JWT.

Cadastro de pacientes

Rota: POST /pacientes

Agendamento de consultas para pacientes

Rota: POST /consultas

Campos:

json
Copiar
Editar
{
  "paciente_id": 1,
  "medico_id": 9,
  "slot_id": 17,
  "data_consulta": "2025-06-11"
}
üë§ FLUXO DO PACIENTE:
Cadastro via POST /pacientes/cadastro

Login via POST /pacientes/login

Consulta de hor√°rios e slots dispon√≠veis:

GET /horarios ‚Üí lista hor√°rios definidos por m√©dicos.

GET /slots ‚Üí lista todos os slots dispon√≠veis.

Agendar uma consulta:

Rota: POST /consultas

Corpo:

json
Copiar
Editar
{
  "medico_id": 9,
  "slot_id": 17,
  "data_consulta": "2025-06-11"
}
O ID do paciente √© obtido automaticamente do token JWT.

Ver consultas agendadas

Rota: GET /consultas

Mostra apenas as consultas do paciente logado.

üì¶ ESTRUTURA DAS TABELAS ENVOLVIDAS
Tabela	Papel
horarios	Define datas e hor√°rios de atendimento dos m√©dicos
slots_agendamento	Fragmenta horarios em blocos (slots) para agendamento
consultas	Registra a consulta (paciente, m√©dico, slot, data)
pacientes	Usu√°rios que agendam
medicos	Usu√°rios que atendem
assistentes	Usu√°rios que ajudam com cadastros e agendamentos
admin	Usu√°rio master do sistema

üß© D√öVIDAS COMUNS
"Por que hora est√° como 00:00:00 nos slots?"
Esse campo pode ter sido mal preenchido na gera√ß√£o dos slots ‚Äî voc√™ pode ignor√°-lo e usar horario_inicio e horario_fim.

"Como sei quais slots est√£o dispon√≠veis?"
O campo disponivel = 1 indica que o slot est√° livre. Ap√≥s agendar, o sistema deve atualizar esse campo para 0.

‚ö†Ô∏è FLUXO DE AGENDAMENTO DE CONSULTA (ESSENCIAL)
Requisi√ß√£o POST /consultas (autenticado como paciente):
json
Copiar
Editar
{
  "medico_id": 9,
  "slot_id": 17,
  "data_consulta": "2025-06-11"
}
O controller cria a entrada na tabela consultas.

O slot disponivel vira 0 (ocupado).

O paciente pode visualizar suas consultas em GET /consultas.
